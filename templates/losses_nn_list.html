{% extends "base_tmp.html" %}
{% block content %}


<div class="d-flex flex-wrap align-items-center gap-2 mb-2 p-2 bg-light border rounded">
    <h5 class="mb-0 me-3">{{ title }}</h5>
    <form class="d-flex align-items-center gap-2 m-0" method="post" style="flex-grow: 1; max-width: 800px;">
        <div class="input-group input-group-sm table-panell">
            <input class="form-control input-serial " type="search" placeholder="–ù–∞–π–º–µ–Ω—É–≤–∞–Ω–Ω—è..." name="search" value="{{ search }}">
            <button class="btn btn-success" type="submit">–®—É–∫–∞—Ç–∏</button>
        </div>
        <button type="button" class="btn btn-outline-dark btn-sm text-nowrap" onclick="copyTable()">
            üìã –ö–æ–ø—ñ—é–≤–∞—Ç–∏
        </button>
    </form>
</div>

<link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap5.min.css">
<!--<link rel="stylesheet" href="{{ url_for('static', filename='css/tables.css') }}">-->
<link rel="stylesheet" href="{{ url_for('static', filename='css/tables.css') }}?v={{ app_version }}">


<table id="tList" class="table table-main">
  <thead class="table-dark">
    <tr>
      <th>UDOC_ID</th>
      <th class="text-wrap" style="max-width: 80px;">–î–∞—Ç–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó</th>
      <th class="text-wrap" style="max-width: 100px;">–ù–æ–º–µ—Ä –¥–æ–∫. —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó</th>
      <th>–î–∞—Ç–∞ –ø–æ–¥—ñ—ó</th>
      <th>–ù–∞–π–º–µ–Ω—É–≤–∞–Ω–Ω—è</th>
      <th>–ü—ñ–¥—Ä–æ–∑–¥—ñ–ª</th>
    </tr>
  </thead>
<tbody>
  {% for row in losses %}
  <tr>
    <td style="padding-top: 1px; padding-bottom: 1px;">{{ row.UDOC_ID }}</td>
    <td style="padding-top: 1px; padding-bottom: 1px;">{{ row.UDOC_DATE.strftime('%d.%m.%Y') }}</td>
    <td style="padding-top: 1px; padding-bottom: 1px;">{{ row.UDOC_NU }}</td>
    <td class="fw-bold text-danger"  style="padding-top: 1px; padding-bottom: 1px;">
      {{ row.ACTION_DATE_TIME.strftime('%d.%m.%Y %H:%M') }}
    </td>
    <td class="fw-bold text-primary" style="padding-top: 1px; padding-bottom: 1px;">
      {{ row.TOVAR_NAME_ }}
    </td>
    <td style="padding-top: 1px; padding-bottom: 1px;">
      {{ row.SKLAD_NAME }}
    </td>
  </tr>
  {% endfor %}
</tbody>
</table>
 <script src="{{ url_for('static', filename='js/tables.js') }}"></script>
    <script>
        $(document).ready(function() {
            initDefaultDataTable('#tList', {
                "pageLength": 25 // –ú–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —Ç—ñ–ª—å–∫–∏ –¥–ª—è —Ü—ñ—î—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏
            });
        });
    </script>
{% endblock %}