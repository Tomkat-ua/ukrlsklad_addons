{% extends "base_tmp.html" %}
{% block content %}

<style>
/* –î–æ–¥–∞–π—Ç–µ —Ü–µ –¥–æ –≤–∞—à–æ–≥–æ CSS. –¶–µ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ —Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å—Å—è */
.table-responsive th,
.table-responsive td {
    white-space: normal !important;
}

/* –Ø–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–µ–Ω –º–µ–Ω—à–∏–π —à—Ä–∏—Ñ—Ç, –¥–æ–¥–∞–π—Ç–µ —Ü–µ —Ç–µ–∂ */
.custom-font-small {
    font-size: 14px;
}
</style>
{#
<div class="d-flex flex-wrap align-items-left gap-2 mb-2 p-2 bg-light border rounded">
    <h5 class="mb-0 me-2 ">{{ title }}</h5>
    <form class="d-flex" method="post" style="margin: 0;">
        <div class="input-group input-group-sm table-panell" >
            <input class="form-control input-serial" type="search" placeholder="–°–µ—Ä—ñ–π–Ω–∏–π..." name="search" value="{{ search }}">
            <button class="btn btn-success " type="submit">–®—É–∫–∞—Ç–∏</button>
        </div>
        <button type="button" class="btn btn-outline-dark btn-sm" onclick="copyTable()">
            üìã –ö–æ–ø—ñ—é–≤–∞—Ç–∏
        </button>
    </form>
</div>#}

<div class="d-flex flex-wrap align-items-center gap-2 mb-2 p-2 bg-light border rounded">
    <h5 class="mb-0 me-3">{{ title }}</h5>
    <form class="d-flex align-items-center gap-2 m-0" method="post" style="flex-grow: 1; max-width: 800px;">
        <div class="input-group input-group-sm table-panell">
            <button type="button" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#modalAdd">
                ‚ûï –î–æ–¥–∞—Ç–∏
            </button>
            <input class="form-control input-serial " type="search" placeholder="–°–µ—Ä—ñ–π–Ω–∏–π..." name="search" value="{{ search }}">
            <button class="btn btn-success" type="submit">–®—É–∫–∞—Ç–∏</button>
        </div>
        <button type="button" class="btn btn-outline-dark btn-sm text-nowrap" onclick="copyTable()">
            üìã –ö–æ–ø—ñ—é–≤–∞—Ç–∏
        </button>
    </form>
</div>

<link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap5.min.css">
<!--<link rel="stylesheet" href="{{ url_for('static', filename='css/tables.css') }}">-->
<link rel="stylesheet" href="{{ url_for('static', filename='css/tables.css') }}?v={{ app_version }}">


<!--<div class="table-responsive">-->
<table id="tList" class="table table-sm table-compact">
  <thead class="table-dark">
    <tr>
      <th class="text-wrap" style="max-width: 80px;">‚Ññ –¥–æ–∫—É–º–µ–Ω—Ç—É</th>
      <th class="text-wrap" style="max-width: 80px;">–î–∞—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç—É</th>
      <th>–ü–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫</th>
      <th>–°—Ç–∞—Ç—Ç—è –Ω–∞–¥—Ö–æ–¥–∂–µ–Ω–Ω—è</th>
      <th class="text-wrap" style="max-width: 100px;">‚Ññ –¥–æ–∫. –ø–æ—Å—Ç–∞—á.</th>
      <th class="text-wrap" style="max-width: 100px;">–î–∞—Ç–∞ –¥–æ–∫. –ø–æ—Å—Ç–∞—á.</th>
      <th>ID —Ç–æ–≤–∞—Ä—É</th>
      <th>–ù–æ–º–µ–Ω–∫. ‚Ññ</th>
      <th>–ù–∞–π–º–µ–Ω—É–≤–∞–Ω–Ω—è</th>
      <th>–ö—ñ–ª—å–∫—ñ—Å—Ç—å</th>
      <th>–¶—ñ–Ω–∞</th>
    </tr>
  </thead>
    <tbody>
  {% for row in data %}
  <tr>
    <td class="col-limit">{{ row.NU }}</td>
    <td class="col-limit">{{ row.DATE_DOK.strftime('%d.%m.%Y') }}</td>
    <td class="col-limit"  >{{ row.CLIENT }}</td>
    <td class="col-limit">{{ row.A_NAME }}</td>
    <td class="col-limit">{{ row.P_NU }}</td>
    <td class="col-limit">{{ row.P_DATE_DOK }}</td>
    <td class="col-limit">
      <a href="/mnakl?tovar_id={{ row.TOVAR_ID }}"
         title="–≤–∏–¥. –Ω–∞–∫–ª–∞–¥–Ω—ñ –ø–æ ID —Ç–æ–≤–∞—Ä—É">{{ row.TOVAR_ID }} >> </a>
    </td>
    <td class="col-limit">
      <a href="/mnakl?tov_code={{ row.TOV_CODE }}"
         title="–≤–∏–¥. –Ω–∞–∫–ª–∞–¥–Ω—ñ –ø–æ –Ω–æ–º. –Ω–æ–º–µ—Ä—É">{{ row.TOV_CODE }} >></a>
    </td>
    <td class="col-limit"  style="col-limit">{{ row.TOV_NAME }}</td>
    <td class="col-limit">{{ row.TOV_KOLVO }}</td>
    <td class="col-limit">{{ row.TOV_CENA | currency_format_ua }}</td>
  </tr>
  {% endfor %}
    </tbody>
</table>


<script src="{{ url_for('static', filename='js/tables.js') }}"></script>
    <script>
        $(document).ready(function() {
            initDefaultDataTable('#tList', {
                "pageLength": 25 // –ú–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —Ç—ñ–ª—å–∫–∏ –¥–ª—è —Ü—ñ—î—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏
            });
        });
    </script>
{% endblock %}
