{% extends "base_tmp.html" %}
{% block content %}

<style>
/* –î–æ–¥–∞–π—Ç–µ —Ü–µ –¥–æ –≤–∞—à–æ–≥–æ CSS. –¶–µ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ —Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å—Å—è */
.table-responsive th,
.table-responsive td {
    white-space: normal !important;
}

/* –Ø–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–µ–Ω –º–µ–Ω—à–∏–π —à—Ä–∏—Ñ—Ç, –¥–æ–¥–∞–π—Ç–µ —Ü–µ —Ç–µ–∂ */
.custom-font-small {
    font-size: 14px;
}
</style>


<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container-fluid">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"></ul>
      <form class="d-flex gap-1 align-items-center mb-1" method="post">
        <input class="form-control form-control-sm" style="width: 250px;" type="search" placeholder="–ù–∞–π–º–µ–Ω—É–≤–∞–Ω–Ω—è" name="search" value="{{ search }}">
        <button class="btn btn-primary btn-sm bi-search" type="submit" > –®—É–∫–∞—Ç–∏</button>
        <button type="button" class="btn btn-sm btn-primary" onclick="copyTable()">üìã –ö–æ–ø—ñ—é–≤–∞—Ç–∏ —Ç–∞–±–ª–∏—Ü—é</button>
      </form>
    </div>
  </div>
</nav>

<link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap5.min.css">
<link rel="stylesheet" href="{{ url_for('static', filename='css/tables.css') }}">

{% if data %}
<!--<div class="table-responsive">-->
<table id="tList" class="table table-sm table-compact">
  <thead class="table-dark">
    <tr>
      <th class="text-wrap" style="max-width: 80px;">‚Ññ –¥–æ–∫—É–º–µ–Ω—Ç—É</th>
      <th class="text-wrap" style="max-width: 80px;">–î–∞—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç—É</th>
      <th>–ü–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫</th>
      <th>–°—Ç–∞—Ç—Ç—è –Ω–∞–¥—Ö–æ–¥–∂–µ–Ω–Ω—è</th>
      <th class="text-wrap" style="max-width: 100px;">‚Ññ –¥–æ–∫. –ø–æ—Å—Ç–∞—á.</th>
      <th class="text-wrap" style="max-width: 100px;">–î–∞—Ç–∞ –¥–æ–∫. –ø–æ—Å—Ç–∞—á.</th>
      <th>ID —Ç–æ–≤–∞—Ä—É</th>
      <th>–ù–æ–º–µ–Ω–∫. ‚Ññ</th>
      <th>–ù–∞–π–º–µ–Ω—É–≤–∞–Ω–Ω—è</th>
      <th>–ö—ñ–ª—å–∫—ñ—Å—Ç—å</th>
      <th>–¶—ñ–Ω–∞</th>
    </tr>
  </thead>
    <tbody>
  {% for row in data %}
  <tr>
    <td >{{ row.NU }}</td>
    <td >{{ row.DATE_DOK.strftime('%d.%m.%Y') }}</td>
    <td class="col-limit"  >{{ row.CLIENT }}</td>
    <td class="col-limit">{{ row.A_NAME }}</td>
    <td >{{ row.P_NU }}</td>
    <td >{{ row.P_DATE_DOK }}</td>
    <td >
      <a href="/mnakl?tovar_id={{ row.TOVAR_ID }}"
         title="–≤–∏–¥. –Ω–∞–∫–ª–∞–¥–Ω—ñ –ø–æ ID —Ç–æ–≤–∞—Ä—É">{{ row.TOVAR_ID }} >> </a>
    </td>
    <td class="col-limit"  >
      <a href="/mnakl?tov_code={{ row.TOV_CODE }}"
         title="–≤–∏–¥. –Ω–∞–∫–ª–∞–¥–Ω—ñ –ø–æ –Ω–æ–º. –Ω–æ–º–µ—Ä—É">{{ row.TOV_CODE }} >></a>
    </td>
    <td class="col-limit"  >{{ row.TOV_NAME }}</td>
    <td >{{ row.TOV_KOLVO }}</td>
    <td >{{ row.TOV_CENA | currency_format_ua }}</td>
  </tr>
  {% endfor %}
    </tbody>
</table>
<!--</div>-->
  {% endif %}
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap5.min.css">
<link rel="stylesheet" href="{{ url_for('static', filename='css/tables.css') }}">

<script src="{{ url_for('static', filename='js/tables.js') }}"></script>

    <script>
        $(document).ready(function() {
            initDefaultDataTable('#tList', {
                "pageLength": 25 // –ú–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —Ç—ñ–ª—å–∫–∏ –¥–ª—è —Ü—ñ—î—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏
            });
        });
    </script>
{% endblock %}
